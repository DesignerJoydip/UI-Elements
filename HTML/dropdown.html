<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
    <title>Simplest jQuery Dropdown Nav Demo</title>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css">
    <style>
        @import url(https://fonts.googleapis.com/css?family=Roboto:400,700,500);

        /* main Styles */

        html {
            box-sizing: border-box;
        }

        *,
        *:before,
        *:after {
            box-sizing: inherit;
        }

        body {
            background: #fafafa;
            font-family: "Roboto", sans-serif;
            font-size: 14px;
            margin: 0;
        }

        a {
            text-decoration: none;
        }

        .container {
            width: 1000px;
            margin: auto;
        }

        h1 {
            text-align: center;
            margin-top: 150px;
        }

        /* Navigation css start */

        .primary-menu {
            background: #2ba0db;
            position: relative;
        }

        .primary-menu .fa.fa-angle-down {
            margin-left: 6px;
        }

        .primary-menu ul {
            font-size: 0;
            margin: 0;
            padding: 0;
        }

        .primary-menu > ul{
            background:#159a6f;
        }

        .primary-menu ul li {
            display: inline-block;
            position: relative;
        }

        .primary-menu ul li a {
            color: #fff;
            display: block;
            font-size: 14px;
            padding: 15px 14px;
            transition: 0.3s linear;
            -webkit-transition: 0.3s linear;
        }

        .primary-menu ul li:hover,
        .primary-menu ul li.submenu:hover > a {
            background: #126d9b;
        }

        .primary-menu ul li:hover ul{
            /*z-index:9;*/
        }

        .primary-menu ul li.submenu a{
            padding-right:20px;
            position: relative;
        }

        .primary-menu ul li.submenu > a:after{
            content:'';
            position: absolute;
            top:50%;
            right:10px;
            width:7px;
            height:2px;
            margin-top:-1px;
            background:#fff;
            transform: rotate(45deg);
            -webkit-transform: rotate(45deg);
            z-index:1;
        }
        .primary-menu ul li.submenu > a:before{
            content:'';
            position: absolute;
            top:50%;
            right:6px;
            width:7px;
            height:2px;
            margin-top:-1px;
            background:#fff;
            transform: rotate(-45deg);
            -webkit-transform: rotate(-45deg);
            z-index:1;
        }

        .primary-menu ul li ul {
            border-bottom: 5px solid #2ba0db;
            display: none;
            position: absolute;
            width: 250px;
            /*z-index:-1;*/
        }

        .primary-menu ul ul li.submenu > a:after{
            content:'';
            position: absolute;
            top:50%;
            right:10px;
            width:7px;
            height:2px;
            margin-top:-3px;
            background:#fff;
            transform: rotate(45deg);
            -webkit-transform: rotate(45deg);
            z-index:1;
        }
        .primary-menu ul ul li.submenu > a:before{
            content:'';
            position: absolute;
            top:50%;
            right:10px;
            width:7px;
            height:2px;
            margin-top:1px;
            background:#fff;
            transform: rotate(-45deg);
            -webkit-transform: rotate(-45deg);
            z-index:1;
        }

        .primary-menu ul li ul li {
            width:100%;
            border-top: 1px solid #444;
            display: block;
        }

        .primary-menu ul li ul li:first-child {
            border-top: none;
        }

        .primary-menu ul li ul li a {
            width:100%;
            background: #373737;
            display: inline-block;
            padding: 15px 14px;
        }

        .primary-menu ul li ul li a:hover {
            background: #126d9b;
        }

        .primary-menu ul li ul li ul {
            left: 100%;
            top: 0px;
        }

        .mobile-navbar{
            background:#ff0000;
            display:none;
            height:40px;
        }
        
        /*@media (max-width:991px){*/
            .mobile-view .mobile-navbar{
                display:block;
            }
            .mobile-view .mobilemenu_ul.flyout_left.ul_closed{
                left:-100%; opacity:0;
            }
            .mobile-view .mobilemenu_ul.flyout_left{
                position: relative;
                display:block;
                transition: all ease 0.4s;
                -webkit-transition: all ease 0.4s;
                left:0px;
                opacity:1;
            }
            .mobile-view .mobilemenu_ul{
                display:none;
                width:100%;
                position: absolute;
            }
            .mobile-view ul{
                margin:0px;
            }
            .mobile-view ul li {
                width: 100%;
                display:inline-block;
            }
            .mobile-view ul li ul{
                width:100%;
                position: relative;
                left:0;
                /*display:inline-block;*/
                border:none;
            }
            .mobile-view ul li.show-sub >ul{
                display:inline-block;
            }
            .mobile-view ul li a {
                width: 100%;
                display:inline-block;
                padding: 15px 14px;
                border-bottom:#126d9b solid 1px;
            }
            .primary-menu.mobile-view ul li ul li ul{
                left:0;
            }
            .mobile-view ul li.submenu a:before,
            .mobile-view ul li.submenu a:after{
                display:none;
            }
            .mobile-view ul ul li.submenu > a:after,
            .mobile-view ul ul li.submenu > a:before{
                display: none;
            }
            .mobile-view .sub-dropdown{
                width:40px;
                height:47px;
                position: absolute;
                top:0;
                /*background:#159a6f;*/
                right:0px;
                z-index:21;
            }
            .mobile-view .sub-dropdown:after,
            .mobile-view .sub-dropdown:before{
                content:'';
                width:10px;
                height:4px;
                background:#fff;
                position: absolute;
                border-radius:4px;
                -webkit-border-radius:4px;
                top:50%;
                left:45%;
                margin-top:-2px;
                transition:all ease 0.4s;
                -webkit-transition:all ease 0.4s;
            }
            .mobile-view .sub-dropdown:after{
                margin-left:-5px;
                transform: rotate(45deg);
            }
            .mobile-view .sub-dropdown:before{
                margin-right:5px;
                transform: rotate(-45deg);
            }

            .mobile-view .sub-dropdown.expanded:after{
                margin-right:-5px;
                transform: rotate(-45deg);
            }
            .mobile-view .sub-dropdown.expanded:before{
                margin-right:5px;
                transform: rotate(45deg);
            }
            
        /*}*/

        /* Navigation css ended */
    </style>
</head>

<body>

    <nav class="primary-menu" style="width:49%; float:left;">
        <div class="mobile-navbar">
            Navigation <span class="burgermenu-icon">nbnbnvb</span>
        </div>
            <ul class="mobilemenu_ul _flyout_left ul_closed">
                <li><a href="#">Home</a></li>
                <li><a href="#">About Us</a></li>
                <li><a href="https://bigbirchlakeassociation.org/#91" target="_blank">Categories</a>
                    <ul>
                        <li><a href="#">Category One</a></li>
                        <li><a href="#">Category Two</a></li>
                        <li><a href="#">Category Three</a></li>
                    </ul>
                </li>
                <li> <a href="#">Services</a>
                    <ul>
                        <li><a href="#">Service One</a>
                            <ul>
                                <li><a href="#">Service One</a></li>
                                <li><a href="#">Service Two</a>
                                    <ul>
                                        <li><a href="#">Service One</a></li>
                                        <li><a href="#">Service Two</a></li>
                                        <li><a href="#">Service Three</a></li>
                                        <li><a href="#">Service Four</a></li>
                                        <li><a href="#">Service Five</a></li>
                                        <li><a href="#">Service Six</a>
                                            <ul>
                                                <li><a href="#">Service One</a></li>
                                                <li><a href="#">Service Two</a></li>
                                                <li><a href="#">Service Three</a></li>
                                                <li><a href="#">Service Four</a></li>
                                                <li><a href="#">Service Five</a></li>
                                                <li><a href="#">Service Six</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#">Service Three</a></li>
                                <li><a href="#">Service Four</a></li>
                                <li><a href="#">Service Five</a></li>
                                <li><a href="#">Service Six</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Service Two</a>
                            <ul>
                                <li><a href="#">Service One</a></li>
                                <li><a href="#">Service Two</a>
                                    <ul>
                                        <li><a href="#">Service One</a></li>
                                        <li><a href="#">Service Two</a></li>
                                        <li><a href="#">Service Three</a></li>
                                        <li><a href="#">Service Four</a></li>
                                        <li><a href="#">Service Five</a></li>
                                        <li><a href="#">Service Six</a>
                                            <ul>
                                                <li><a href="#">Service One</a></li>
                                                <li><a href="#">Service Two</a></li>
                                                <li><a href="#">Service Three</a></li>
                                                <li><a href="#">Service Four</a></li>
                                                <li><a href="#">Service Five</a></li>
                                                <li><a href="#">Service Six</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#">Service Three</a></li>
                                <li><a href="#">Service Four</a></li>
                                <li><a href="#">Service Five</a></li>
                                <li><a href="#">Service Six</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Service Three</a></li>
                        <li><a href="#">Service Four</a></li>
                        <li><a href="#">Service Five</a></li>
                        <li><a href="#">Service Six</a></li>
                    </ul>
                </li>
                <li><a href="#">Contact Us</a></li>
            </ul>
    </nav>

    <!-- <i class='fa fa-angle-down'></i> -->


    <nav class="primary-menu" style="width:49%; float:left;">
        <div class="mobile-navbar">
            Navigation <span class="burgermenu-icon">nbnbnvb</span>
        </div>
            <ul class="mobilemenu_ul _flyout_left ul_closed">
                <li><a href="#">Home</a></li>
                <li><a href="#">About Us</a></li>
                <li><a href="https://bigbirchlakeassociation.org/#91" target="_blank">Categories</a>
                    <ul>
                        <li><a href="#">Category One</a></li>
                        <li><a href="#">Category Two</a></li>
                        <li><a href="#">Category Three</a></li>
                    </ul>
                </li>
                <li> <a href="#">Services</a>
                    <ul>
                        <li><a href="#">Service One</a>
                            <ul>
                                <li><a href="#">Service One</a></li>
                                <li><a href="#">Service Two</a>
                                    <ul>
                                        <li><a href="#">Service One</a></li>
                                        <li><a href="#">Service Two</a></li>
                                        <li><a href="#">Service Three</a></li>
                                        <li><a href="#">Service Four</a></li>
                                        <li><a href="#">Service Five</a></li>
                                        <li><a href="#">Service Six</a>
                                            <ul>
                                                <li><a href="#">Service One</a></li>
                                                <li><a href="#">Service Two</a></li>
                                                <li><a href="#">Service Three</a></li>
                                                <li><a href="#">Service Four</a></li>
                                                <li><a href="#">Service Five</a></li>
                                                <li><a href="#">Service Six</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#">Service Three</a></li>
                                <li><a href="#">Service Four</a></li>
                                <li><a href="#">Service Five</a></li>
                                <li><a href="#">Service Six</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Service Two</a>
                            <ul>
                                <li><a href="#">Service One</a></li>
                                <li><a href="#">Service Two</a>
                                    <ul>
                                        <li><a href="#">Service One</a></li>
                                        <li><a href="#">Service Two</a></li>
                                        <li><a href="#">Service Three</a></li>
                                        <li><a href="#">Service Four</a></li>
                                        <li><a href="#">Service Five</a></li>
                                        <li><a href="#">Service Six</a>
                                            <ul>
                                                <li><a href="#">Service One</a></li>
                                                <li><a href="#">Service Two</a></li>
                                                <li><a href="#">Service Three</a></li>
                                                <li><a href="#">Service Four</a></li>
                                                <li><a href="#">Service Five</a></li>
                                                <li><a href="#">Service Six</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                                <li><a href="#">Service Three</a></li>
                                <li><a href="#">Service Four</a></li>
                                <li><a href="#">Service Five</a></li>
                                <li><a href="#">Service Six</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Service Three</a></li>
                        <li><a href="#">Service Four</a></li>
                        <li><a href="#">Service Five</a></li>
                        <li><a href="#">Service Six</a></li>
                    </ul>
                </li>
                <li><a href="#">Contact Us</a></li>
            </ul>
    </nav>

    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script>

        resizeFix = function () {
            //$(window).width() > 991 ? console.log("desktop") : console.log("mobile");
            $('.primary-menu li').each(function () {
                $(this).has('ul').addClass('submenu');
            });
            
            if ($(window).width() >= 992) {
                console.log("desktop");
                $('.primary-menu').removeClass('mobile-view');
                $('.primary-menu li').each(function () {
                    $(this).hover(
                        function () {
                            //$('ul', this).stop().slideDown(200);
                            $(this).children('ul').stop().delay(300).slideDown(300);
                        },
                        function () {
                            $('ul', this).stop().slideUp(100);
                        }
                    );
                });


            } else {
                console.log("mobile");
                $('.primary-menu').addClass('mobile-view');
                $(".burgermenu-icon").click(function(){
                    //$('.mobilemenu_ul').toggleClass('ul_closed');
                    var animated_menu_class = $('.mobilemenu_ul.flyout_left').length;
                    console.log(animated_menu_class);
                    if(animated_menu_class == 0){
                        $('.mobilemenu_ul').slideToggle(400);
                    }else{
                        console.log('ccc');
                        $('.mobilemenu_ul').toggleClass('ul_closed');
                    }
                    
                });
                $('.primary-menu li').each(function () {
                    if($(this).has('ul').length){
                        //var sub_dropdown = $(this).children("ul > li > a").find(".sub-dropdown").length;
                        var sub_dropdown = $(this).find(".sub-dropdown").length;
                        if(sub_dropdown == 0){
                            //$(this).children("li a").append('<span class="sub-dropdown"></span>');
                            $(this).prepend('<span class="sub-dropdown"></span>');
                            $(this).find(".sub-dropdown").on("click", function() {
                                //alert($(this).closest("nav").find(".show-sub").length);
                                //$("nav > ul > li.submenu.show-sub").removeClass("show-sub");
                                //$(this).closest("li").toggleClass("show-sub");
                                $(this).toggleClass('expanded');
                                $(this).closest("li").children("ul").slideToggle(400);
                            });
                        }
                    }
                });
            }
        }, resizeFix(), $(window).on("resize", resizeFix)

//function deskTop(){

//}

    </script>
</body>

</html>